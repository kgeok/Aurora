<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Aurora</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css" media="screen">
    <body>
        <section>
        <h1>aurora</h1>
        <br/>
        <noscript>Please Enable JavaScript to use this app</noscript>
        <br/>
        <br/>
        </section>
        <section>
        <label id="zones_lbl">GRID SIZE</label>
        <br/>
        <input type="number" id="zones_txt" placeholder="1-20" min="1" max="20"/>
        <br/>
        <input type="submit" id="zones_btn" value="Next" onclick="genZoneOptions()"/>

        <script type="text/javascript">
        
        function genZoneOptions(){
          var zonesinput = Math.abs(document.getElementById('zones_txt').value);
          if (zonesinput > 20){
            alert("Sorry, only a max of 20x20 is supported at this time.")
            zonesinput = 20;
            console.error("Input not valid, setting to max supported...");
          }

          if (zonesinput == 0){
            alert("Please Enter a Number greater than 0")
            zonesinput = 1;
            console.error("Input not Valid, setting to 1...");
          }

          zones = zonesinput * zonesinput;
          console.log("Full Size:");
          console.log(zones);

          let options = document.createElement('input');
          options.setAttribute('type', 'color');

          let gen_btn = document.createElement('input');
          gen_btn.setAttribute('type', 'submit');
          gen_btn.id = 'gen_btn';
          gen_btn.setAttribute('value', 'Create');
          gen_btn.setAttribute('onclick', 'genZones()');
          gen_btn.setAttribute('style', 'padding: 14px 20px; width: 25%; font-size:18px; border-radius: 7px; background-color: #6b6b6b; color: #FFFFFF; font-family: &apos;Raleway&apos;, sans-serif; font-weight: bolder;');

          let reset_btn = document.createElement('input');
          reset_btn.setAttribute('type', 'submit');
          reset_btn.id = 'gen_btn';
          reset_btn.setAttribute('value', 'Reset');
          reset_btn.setAttribute('onclick', 'location.reload()');
          reset_btn.setAttribute('style', 'padding: 14px 20px; width: 25%; font-size:18px; border-radius: 7px; background-color: #6b6b6b; color: #FFFFFF; font-family: &apos;Raleway&apos;, sans-serif; font-weight: bolder;');


          for (i = 0; i < zones; i++){

            let options = document.createElement('input');
            options.setAttribute('type', 'color');
            options.setAttribute('id', i);
            if (i % zonesinput == 0){
            let lineBreak = document.createElement('br');
            document.body.appendChild(lineBreak);
            }
            document.body.appendChild(options);

          }
          document.getElementById("zones_btn").remove();
          document.getElementById("zones_txt").remove();
          document.getElementById("zones_lbl").remove();

          for (j = 0; j < 2; j++){
           let lineBreak = document.createElement('br');
           document.body.appendChild(lineBreak);
          }

          document.body.appendChild(gen_btn);
          for (j = 0; j < 1; j++){
           let lineBreak = document.createElement('br');
           document.body.appendChild(lineBreak);
          }
          document.body.appendChild(reset_btn);
          
        }
        
        function genZones(){
         alert ("For best results, set brightness to maximum desired and add a diffusion layer to your display.")
         console.error("Not finished...yet.");

        }

        </script>

        </section>
        <section>

            <h4>With &#129505; by Kevin George</h4>

        </section>
    </body>