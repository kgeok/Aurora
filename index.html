<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Aurora</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css" media="screen">
    <link rel="apple-touch-icon" sizes="180x180" href="https://github.com/kgeok/Aurora/raw/main/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://github.com/kgeok/Aurora/raw/main/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://github.com/kgeok/Aurora/raw/main/icons/favicon-16x16.png">
    <link rel="manifest" href="https://github.com/kgeok/Aurora/raw/main/icons/site.webmanifest">
    <link rel="mask-icon" href="https://github.com/kgeok/Aurora/raw/main/icons/safari-pinned-tab.svg" color="#323232">
    <link rel="shortcut icon" href="https://github.com/kgeok/Aurora/raw/main/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="https://github.com/kgeok/Aurora/raw/main/icons/browserconfig.xml">
    <body>
        <section id="uip1">
        <h1>aurora</h1>
        <br/>
        <noscript>Please Enable JavaScript to use this app</noscript>
        <br/>
        <br/>
        </section>
        <section>
        <label id="zones_lbl">GRID SIZE</label>
        <br/>
        <input type="number" id="zones_txt" placeholder="1-20" min="1" max="20"/>
        <br/>
        <input type="submit" id="zones_btn" value="Next" onclick="genZoneOptions()"/>
        </section>
        
        <script type="text/javascript">
        
        function genZoneOptions(){
          var zonesinput = Math.abs(document.getElementById('zones_txt').value);
          if (zonesinput > 20){
            alert("Sorry, only a max of 20 x 20 is supported at this time.")
            zonesinput = 20;
            console.error("Input not valid, setting to max supported...");
          }

          if (zonesinput == 0){
            alert("Please Enter a Number greater than 0")
            zonesinput = 1;
            console.error("Input not Valid, setting to 1...");
          }

          zones = zonesinput * zonesinput;
          console.log("Full Size:");
          console.log(zones);

          let options = document.createElement('input');
          options.setAttribute('type', 'color');
          

          let gen_btn = document.createElement('input');
          gen_btn.setAttribute('type', 'submit');
          gen_btn.id = 'gen_btn';
          gen_btn.setAttribute('value', 'Create');
          gen_btn.setAttribute('onclick', 'genZones()');
          gen_btn.setAttribute('style', 'padding: 14px 20px; width: 25%; font-size:18px; border-radius: 7px; background-color: #6b6b6b; color: #FFFFFF; margin-bottom: 1rem; font-family: &apos;Raleway&apos;, sans-serif; font-weight: bolder;');

          let reset_btn = document.createElement('input');
          reset_btn.setAttribute('type', 'submit');
          reset_btn.id = 'reset_btn';
          reset_btn.setAttribute('value', 'Reset');
          reset_btn.setAttribute('onclick', 'location.reload()');
          reset_btn.setAttribute('style', 'padding: 14px 20px; width: 25%; font-size:18px; border-radius: 7px; background-color: #6b6b6b; color: #FFFFFF; font-family: &apos;Raleway&apos;, sans-serif; font-weight: bolder;');

          let color_desc = document.createElement('label');
          color_desc.id = 'color_desc';
          color_desc.setAttribute('style', 'margin-bottom: 1rem;');
          color_desc.innerHTML  = "COLOR OPTIONS";

          
          document.body.appendChild(color_desc);

          for (j = 0; j < 1; j++){
           let lineBreak = document.createElement('br');
           lineBreak.id = "br";
           document.body.appendChild(lineBreak);
          }

          for (i = 0; i < zones; i++){

            let options = document.createElement('input');
            options.setAttribute('type', 'color');
            options.setAttribute('value', '#ffffff');
            options.setAttribute('id', i);
            if (i % zonesinput == 0){
            let lineBreak = document.createElement('br');
            lineBreak.id = "br";
            document.body.appendChild(lineBreak);
            }
            document.body.appendChild(options);

          }
          document.getElementById("zones_btn").remove();
          document.getElementById("zones_txt").remove();
          document.getElementById("zones_lbl").remove();

          for (j = 0; j < 2; j++){
           let lineBreak = document.createElement('br');
           lineBreak.id = "br";
           document.body.appendChild(lineBreak);
          }

          document.body.appendChild(gen_btn);

          for (j = 0; j < 1; j++){
           let lineBreak = document.createElement('br');
           lineBreak.id = "br";
           document.body.appendChild(lineBreak);
          }
          
          document.body.appendChild(reset_btn);
          
        }

        function genZones(){
        // alert ("For best results, set brightness to maximum desired and add a diffusion layer to your display. Refresh the app to start over.");
        document.getElementById("uip1").remove();
        document.getElementById("footer").remove();
        document.getElementById("gen_btn").remove();
        document.getElementById("color_desc").remove();
        document.getElementById("reset_btn").remove();
        document.body.style.backgroundColor = "black";
        for (i = 0; i < document.getElementsByTagName("BR").length; i++){

        document.getElementById("br").remove();

        }

         var width = 100 / Math.sqrt(zones);
         for (i = 0; i < zones; i++){
            
            let grid = document.createElement('canvas');
            grid.id = 'zone'+ i;
            grid.getContext('2d');
            grid.getContext('2d').fillStyle=document.getElementById(i).value;
            grid.setAttribute('style', 'height: 200%; width:' + width);
            grid.getContext('2d').fillRect(0,0,window.innerWidth,window.innerHeight);
           
            if (i % Math.sqrt(zones) == 0){
            let lineBreak = document.createElement('br');
            lineBreak.id = "br";
            document.body.appendChild(lineBreak);
            }
            document.body.appendChild(grid);

            document.getElementById(i).remove();


         }




        }

        </script>

        
        <section id="footer">
            <h4>With &#129505; by <a href ="https://kgeok.github.io/">Kevin George</a></h4>
        </section>
    </body>